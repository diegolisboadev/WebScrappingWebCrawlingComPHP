

$(document).ready(function() {

    $.ajax({
        url: "/webAjaxAll",
        type: 'GET',
        dataType: 'json',
    beforeSend: function() {
        $('.init').show();
    },
    }).done(function(dataAll) {
        $(".init").hide();
        listaAllNotices(dataAll)
        console.log(dataAll['uniao']['tcema'])
    });

    function listaAllNotices(dataAll) {

        var component_all = '';
        for(var i = 0; i < dataAll['uniao']['seplan'].length; i++) {
            component_all += "<div class='carousel-item'>";
            component_all += "<div class='row justify-content-center'>";
            component_all += "<img style='width:25% !important;height:25% !important;' class='d-inline-block p-3 img-fluid float-left rounded' src='https://seplan.ma.gov.br/files/2019/10/logo-secretarias-seplan.jpg' alt=''>";
            component_all += "<div class='col-md-6'>";
            component_all += "<a class='text-dark' href='"+dataAll['uniao']['seplan'][i][0]['titulo'][1]+"' style='text-decoration:none;'>";
            component_all += "<h5 class='font-weight-bold'>"+dataAll['uniao']['seplan'][i][0]['data']+ " - " +dataAll['uniao']['seplan'][i][0]['titulo'][0]+"</h5>";
            component_all += "</a>";
            component_all += "</div>";
            component_all += "</div>";
            component_all += "</div>";
        }

        for(var j = 0; j < dataAll['uniao']['tjma'].length; j++) {
            component_all += "<div class='carousel-item'>";
            component_all += "<div class='row justify-content-center'>";
            component_all += "<img style='width:20% !important;height:20% !important;' class='d-inline-block p-3 img-fluid float-left rounded' src='https://www.tjma.jus.br/imagens/marca-tjma.png' alt='"+dataAll['uniao']['tjma'][j]['texto']+"'>";
            component_all += "<div class='col-md-6'>";
            component_all += "<a class='text-dark' href='"+dataAll['uniao']['tjma'][j]['link']+"' style='text-decoration:none;'>";
            component_all += "<h5 class='align-items-center font-weight-bold'>"+dataAll['uniao']['tjma'][j]['data']+" - "+dataAll['uniao']['tjma'][j]['texto']+"</h5>";
            component_all += "</a>";
            component_all += "</div>";
            component_all += "</div>";
            component_all += "</div>";
        }

        for(var t = 0; t < dataAll['uniao']['tcema'].length; t++) {
            component_all += "<div class='carousel-item'>";
            component_all += "<div class='row justify-content-center'>";
            component_all += "<img style='width:20% !important;height:20% !important;' class='d-inline-block p-3 img-fluid float-left rounded' src='http://site.tce.ma.gov.br/templates/rt_enigma/images/logo/style2/logo.png' alt='"+dataAll['uniao']['tcema'][t]['texto']+"'>";
            component_all += "<div class='col-md-6'>";
            component_all += "<a class='text-dark' href='http://site.tce.ma.gov.br/"+dataAll['uniao']['tcema'][t]['link']+"' style='text-decoration:none;'>";
            component_all += "<h5 class='align-items-center font-weight-bold'>"+dataAll['uniao']['tcema'][t]['data']+" - "+dataAll['uniao']['tcema'][t]['texto']+"</h3>";
            component_all += "</a>";
            component_all += "</div>";
            component_all += "</div>";
            component_all += "</div>";
        }

        $('#carousel_slide_all').html(component_all);
        $('#carousel_slide_all .carousel-item').first().addClass('active');
        $('.carousel-indicators > li').first().addClass('active');
    }

    // Init Carrousel
    $('.carousel').carousel({
        interval: 8000,
        ride: true
    });

});

